<!DOCTYPE html>
<html lang="th">

<head>
  <meta charset="UTF-8">
  <title>Sudoku 6x6 ‚Äì ‡πÅ‡∏ö‡∏ö‡∏ù‡∏∂‡∏Å</title>


  <style>
    body {
      font-family: "Kanit", sans-serif;
      background: #f2f6fb;
      text-align: center;
      padding: 20px;
    }

    .hidden {
      display: none
    }

    .card {
      background: white;
      max-width: 960px;   /* üî• ‡∏Å‡∏ß‡πâ‡∏≤‡∏á‡∏Ç‡∏∂‡πâ‡∏ô */
      width: 100%;
      margin: 20px auto;
      padding: 30px;      /* üî• ‡πÄ‡∏ß‡πâ‡∏ô‡∏Ç‡∏≠‡∏ö‡πÉ‡∏ô‡πÉ‡∏´‡πâ‡πÇ‡∏•‡πà‡∏á */
      border-radius: 16px;
      box-shadow: 0 8px 20px rgba(0, 0, 0, .1);
      text-align: center;   
    }

    button,
    select {
      padding: 10px 16px;
      border: none;
      border-radius: 10px;
      background: #3f5f93;
      color: white;
      font-size: 15px;
      cursor: pointer;
      margin: 6px;
    }

    select {
      background: #5a7cc1
    }

    .grid {
      display: grid;
      grid-template-columns: repeat(6, 1fr);
      grid-template-rows: repeat(6, 1fr);
      width: 300px;
      height: 300px;
      margin: 15px auto;
      border: 4px solid #3f5f93;
    }

    .cell {
      background: #f7fbff;
      border: 1px solid #b7c9dd;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 20px;
    }

    .cell input {
      width: 100%;
      height: 100%;
      border: none;
      text-align: center;
      font-size: 20px;
      outline: none;
      background: none;
    }

    .fixed {
      background: #eaf1fb;
      font-weight: bold;
    }

    .correct {
      background: #c9f7c5
    }

    .wrong {
      background: #f7c5c5
    }

    .realExam{
      max-width: 1100px;     /* üî• ‡∏Å‡∏ß‡πâ‡∏≤‡∏á‡∏Å‡∏ß‡πà‡∏≤‡∏´‡∏ô‡πâ‡∏≤‡∏≠‡∏∑‡πà‡∏ô */
      min-height: 80vh;
      font-size: 20px;
      margin: 20px auto;
      text-align: left;     /* üîë ‡∏ï‡∏±‡∏î center ‡∏à‡∏≤‡∏Å body */
    }
    .questionText{
      font-size: 22px;
      margin-bottom: 20px;
      line-height: 1.7;
      text-align: left;
    }
    .choice-grid label{
      border: 1px solid #ccc;
      border-radius: 10px;
      padding: 12px;
      cursor: pointer;
      display: flex;
      gap: 8px;
      align-items: center;
    }
    .q-title{
      font-size: 22px;
      margin-bottom: 8px;
    }
    .q-cond-title{
      margin-left: 1.8em;
      font-weight: bold;
      margin-bottom: 4px;
    }
/* üî• ‡∏ï‡∏±‡∏ß‡∏ô‡∏µ‡πâ‡∏Ñ‡∏∑‡∏≠‡∏´‡∏±‡∏ß‡πÉ‡∏à */
    .q-cond{
      margin: 0 0 16px 3.5em;   /* ‡∏ï‡∏±‡∏î margin default */
      padding-left: 1.5em;
    }
    .q-cond li{
      margin: 6px 0;
    }
    .q-question{
      margin-left: 1.8em;
      margin-bottom: 14px;
      /*font-weight: bold;*/
    }
    .exam-table{
      border-collapse: collapse;
      margin: 16px auto 20px;
    }
    .exam-table td{
      width: 48px;
      height: 48px;
      border: 2px solid #000;
      text-align: center;
      font-size: 18px;
    }
    .exam-table .blank{
       background: #fff6cc;
       font-weight: bold;
    } 
    .exam-table .mark{
      background: #e6f4ff;
      box-shadow: inset 0 0 0 2px #4aa3df;
      font-weight: bold;
    }
    .exam-table .mark span{
      color: #1f5fa0;
      font-size: 18px;
    }
    .sudoku-table{
      border-collapse: collapse;
      margin: 16px auto;
    }

    .sudoku-table td{
      width: 46px;
      height: 46px;
      border: 2px solid #000;
      text-align: center;
    }
    .sudoku-table input{
      width: 100%;
      height: 100%;
      border: none;
      text-align: center;
      font-size: 18px;
      outline: none;
    }
    /* ‡πÄ‡∏™‡πâ‡∏ô‡πÅ‡∏ö‡πà‡∏á‡∏ö‡∏•‡πá‡∏≠‡∏Å 3√ó2 */
    .sudoku-table td:nth-child(3){
      border-right: 4px solid #000;
    }
    .sudoku-table tr:nth-child(2) td,
    .sudoku-table tr:nth-child(4) td{
      border-bottom: 4px solid #000;
    }
    .exam-mark{
      background:#e6f4ff;
      box-shadow: inset 0 0 0 2px #4aa3df;
      font-weight:bold;
      color:#1f5fa0;
    }
    .exam-blank{
      background:#fff6cc;
    }
  </style>
</head>

<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>


<script>
  const firebaseConfig = {
    apiKey: "AIzaSyDde_uykmCX-X0mtVB8WO8Gu5UQBTT41qw",
    authDomain: "sudoku-for-grade-5.firebaseapp.com",
    databaseURL: "https://sudoku-for-grade-5-default-rtdb.asia-southeast1.firebasedatabase.app",
    projectId: "sudoku-for-grade-5",
    storageBucket: "sudoku-for-grade-5.firebasestorage.app",
    messagingSenderId: "570109667126",
    appId: "1:570109667126:web:9ac179145905ede298b597"
  };

  firebase.initializeApp(firebaseConfig);
  const db = firebase.database();
</script>


<script>
  function saveScore(mode, score) {
    const student = JSON.parse(localStorage.getItem("student"));
    if (!student) return;

    db.ref(`rooms/${student.class}/students/${student.no}`).update({
      name: student.name,
      no: student.no,
      class: student.class,
      [mode]: score,
      lastUpdate: Date.now()
    });
  }
</script>

<script>
const examQuestions = [
  { /*‡∏Ç‡πâ‡∏≠‡∏ó‡∏µ‡πà 1*/
    title: "1) ‡∏°‡∏µ‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô 3 ‡∏Ñ‡∏ô ‡∏Ñ‡∏∑‡∏≠ ‡∏Å, ‡∏Ç ‡πÅ‡∏•‡∏∞ ‡∏Ñ ‡∏¢‡∏∑‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏Å‡∏±‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡πÅ‡∏ñ‡∏ß",
    conditionTitle: "‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç:",
    conditions: [
      "‡∏Ñ ‡∏¢‡∏∑‡∏ô‡∏ï‡∏¥‡∏î‡∏Å‡∏±‡∏ö ‡∏Å",
      "‡∏Ç ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏¢‡∏∑‡∏ô‡∏ï‡∏¥‡∏î‡∏Å‡∏±‡∏ö ‡∏Å"
    ],
    question: "‡πÉ‡∏Ñ‡∏£‡∏¢‡∏∑‡∏ô‡∏≠‡∏¢‡∏π‡πà‡∏ï‡∏£‡∏á‡∏Å‡∏•‡∏≤‡∏á‡πÅ‡∏ñ‡∏ß?",
    choices: ["‡∏Å. ‡∏ô‡∏≤‡∏¢ ‡∏Å","‡∏Ç. ‡∏ô‡∏≤‡∏¢ ‡∏Ç","‡∏Ñ. ‡∏ô‡∏≤‡∏¢ ‡∏Ñ","‡∏á. ‡∏™‡∏£‡∏∏‡∏õ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ"],
    answer: 1
  },
  { /*‡∏Ç‡πâ‡∏≠‡∏ó‡∏µ‡πà 2*/
    title: "2) ‡∏°‡∏µ‡∏™‡∏µ 4 ‡∏™‡∏µ ‡∏Ñ‡∏∑‡∏≠ ‡πÅ‡∏î‡∏á, ‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô, ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß ‡πÅ‡∏•‡∏∞ ‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á ‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏à‡∏≤‡∏Å‡∏ã‡πâ‡∏≤‡∏¢‡πÑ‡∏õ‡∏Ç‡∏ß‡∏≤",
    conditionTitle: "‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç:",
    conditions: [
      "‡πÅ‡∏î‡∏á‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏≤‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß",
      "‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô‡∏≠‡∏¢‡∏π‡πà‡∏´‡∏•‡∏±‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á",
      "‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á‡∏≠‡∏¢‡∏π‡πà‡∏Å‡πà‡∏≠‡∏ô‡πÅ‡∏î‡∏á‡πÅ‡∏•‡∏∞‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß"
    ],
    question: "‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏™‡∏µ‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏Ñ‡∏∑‡∏≠‡∏Ç‡πâ‡∏≠‡πÉ‡∏î?",
    choices: [
      "‡∏Å. ‡πÅ‡∏î‡∏á ‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß ‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô",
      "‡∏Ç. ‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á ‡πÅ‡∏î‡∏á ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß ‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô",
      "‡∏Ñ. ‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß ‡πÅ‡∏î‡∏á ‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô",
      "‡∏á. ‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô ‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á ‡πÅ‡∏î‡∏á ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß"
    ],
    answer: 1
  },
  {/*‡∏Ç‡πâ‡∏≠‡∏ó‡∏µ‡πà 3*/
    title: "3) ‡∏ñ‡πâ‡∏≤‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà‡∏õ‡πâ‡∏≠‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏•‡∏Ç‡∏Ñ‡∏π‡πà ‡πÉ‡∏´‡πâ‡∏ö‡∏ß‡∏Å 5 ‡∏ñ‡πâ‡∏≤‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà‡∏õ‡πâ‡∏≠‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏•‡∏Ç‡∏Ñ‡∏µ‡πà ‡πÉ‡∏´‡πâ‡∏•‡∏ö 2 ‡πÅ‡∏•‡πâ‡∏ß‡∏ñ‡πâ‡∏≤‡∏õ‡πâ‡∏≠‡∏ô‡πÄ‡∏•‡∏Ç 14 ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏Ñ‡∏∑‡∏≠‡πÄ‡∏ó‡πà‡∏≤‡πÉ‡∏î?",
    choices: ["‡∏Å. 12","‡∏Ç. 16","‡∏Ñ. 19","‡∏á. 10"],
    answer: 2
  },
  {/*‡∏Ç‡πâ‡∏≠‡∏ó‡∏µ‡πà 4*/
    title: "4) ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 4 ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ä‡∏á‡∏ä‡∏≤‡∏Ñ‡∏∑‡∏≠ '‡πÄ‡∏ï‡∏¥‡∏°‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏• 2 ‡∏ä‡πâ‡∏≠‡∏ô‡∏ä‡∏≤ ‡πÅ‡∏•‡πâ‡∏ß‡∏Ñ‡∏ô‡πÉ‡∏´‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏Å‡∏±‡∏ô' ‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡πâ‡∏ä‡∏≤‡∏°‡∏µ‡∏£‡∏™ '‡∏´‡∏ß‡∏≤‡∏ô' ‡∏Å‡∏≤‡∏£‡∏Å‡∏£‡∏∞‡∏ó‡∏≥‡πÉ‡∏î‡πÉ‡∏ô‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 4 ‡∏ó‡∏µ‡πà‡∏≠‡∏≤‡∏à‡∏ó‡∏≥‡πÉ‡∏´‡πâ '‡πÑ‡∏°‡πà‡πÅ‡∏ô‡πà‡πÉ‡∏à' ‡∏ß‡πà‡∏≤‡∏ä‡∏≤‡∏à‡∏∞‡∏´‡∏ß‡∏≤‡∏ô‡∏à‡∏£‡∏¥‡∏á‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?",
    choices: ["‡∏Å. ‡πÄ‡∏ï‡∏¥‡∏°‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏•","‡∏Ç. ‡∏Ñ‡∏ô‡πÉ‡∏´‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏Å‡∏±‡∏ô","‡∏Ñ. ‡πÉ‡∏ä‡πâ‡∏ô‡πâ‡∏≥‡∏£‡πâ‡∏≠‡∏ô","‡∏á. ‡∏õ‡∏£‡∏¥‡∏°‡∏≤‡∏ì‡∏ú‡∏á‡∏ä‡∏≤"],
    answer: 3
  },
  {/*‡∏Ç‡πâ‡∏≠‡∏ó‡∏µ‡πà 5*/
    title: "5) ‡∏ñ‡πâ‡∏≤‡∏™‡∏±‡πà‡∏á‡πÉ‡∏´‡πâ‡∏´‡∏∏‡πà‡∏ô‡∏¢‡∏ô‡∏ï‡πå‡∏´‡∏¢‡∏¥‡∏ö‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠‡∏ö‡∏ô‡πÇ‡∏ï‡πä‡∏∞ ‡πÅ‡∏•‡πâ‡∏ß‡∏ô‡∏≥‡πÑ‡∏õ‡∏ß‡∏≤‡∏á‡πÉ‡∏ô‡∏Å‡∏•‡πà‡∏≠‡∏á‡∏Ç‡πâ‡∏≤‡∏á ‡πÜ ‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡πÉ‡∏î‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î?",
    choices: [
      "‡∏Å. ‡∏à‡∏±‡∏ö‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠ ‚Üí ‡πÄ‡∏î‡∏¥‡∏ô‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡∏Å‡∏•‡πà‡∏≠‡∏á ‚Üí ‡∏ß‡∏≤‡∏á‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠‡∏•‡∏á",
      "‡∏Ç. ‡πÄ‡∏î‡∏¥‡∏ô‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡πÇ‡∏ï‡πä‡∏∞ ‚Üí ‡∏à‡∏±‡∏ö‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠  ‚Üí ‡πÄ‡∏î‡∏¥‡∏ô‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡∏Å‡∏•‡πà‡∏≠‡∏á ‚Üí ‡∏ß‡∏≤‡∏á‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠‡∏•‡∏á",
      "‡∏Ñ. ‡∏ß‡∏≤‡∏á‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠‡∏•‡∏á ‚Üí ‡πÄ‡∏î‡∏¥‡∏ô‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡πÇ‡∏ï‡πä‡∏∞ ‚Üí ‡∏à‡∏±‡∏ö‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠ ‚Üí ‡πÄ‡∏î‡∏¥‡∏ô‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡∏Å‡∏•‡πà‡∏≠‡∏á ",
      "‡∏á. ‡πÄ‡∏î‡∏¥‡∏ô‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡∏Å‡∏•‡πà‡∏≠‡∏á ‚Üí ‡∏à‡∏±‡∏ö‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠ ‚Üí ‡πÄ‡∏î‡∏¥‡∏ô‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤‡∏ó‡∏µ‡πà‡πÇ‡∏ï‡πä‡∏∞ ‚Üí ‡∏ß‡∏≤‡∏á‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠‡∏•‡∏á"
    ],
    answer: 1
  },
  {/*‡∏Ç‡πâ‡∏≠‡∏ó‡∏µ‡πà 6*/
    title: "6) ‡∏°‡∏µ‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô 4 ‡∏Ñ‡∏ô: ‡∏≠‡πâ‡∏≠‡∏°, ‡∏ö‡∏≠‡∏¢, ‡πÅ‡∏Å‡πâ‡∏ß, ‡πÄ‡∏î‡πà‡∏ô",
    conditionTitle: "‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç:",
    conditions: [
      "‡∏≠‡πâ‡∏≠‡∏° > ‡∏ö‡∏≠‡∏¢",
      "‡πÅ‡∏Å‡πâ‡∏ß < ‡∏ö‡∏≠‡∏¢",
      "‡πÄ‡∏î‡πà‡∏ô > ‡∏≠‡πâ‡∏≠‡∏°"
    ],
    question: "‡∏î‡∏±‡∏á‡∏ô‡∏±‡πâ‡∏ô‡πÉ‡∏Ñ‡∏£‡∏°‡∏µ‡∏≠‡∏≤‡∏¢‡∏∏‡∏°‡∏≤‡∏Å‡πÄ‡∏õ‡πá‡∏ô‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö‡∏™‡∏≠‡∏á?",
    choices: [
      "‡∏Å. ‡∏≠‡πâ‡∏≠‡∏°",
      "‡∏Ç. ‡∏ö‡∏≠‡∏¢",
      "‡∏Ñ. ‡πÅ‡∏Å‡πâ‡∏ß",
      "‡∏á. ‡πÄ‡∏î‡πà‡∏ô"
    ],
    answer: 0
  },
  {/*‡∏Ç‡πâ‡∏≠‡∏ó‡∏µ‡πà 7*/
    title: "7)",
    conditionTitle: "‡∏™‡∏°‡∏°‡∏ï‡∏¥‡∏ß‡πà‡∏≤:",
    conditions: [
      "‡∏™‡∏±‡∏ï‡∏ß‡πå‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á‡∏•‡∏π‡∏Å‡∏î‡πâ‡∏ß‡∏¢‡∏ô‡∏° ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î ‡∏ö‡∏¥‡∏ô‡πÑ‡∏î‡πâ",
      "‡∏ô‡∏Å‡πÅ‡∏Å‡πâ‡∏ß‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏±‡∏ï‡∏ß‡πå‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á‡∏•‡∏π‡∏Å‡∏î‡πâ‡∏ß‡∏¢‡∏ô‡∏°",
    ],
    question: "‡∏Ç‡πâ‡∏≠‡∏™‡∏£‡∏∏‡∏õ‡πÉ‡∏î‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡πÅ‡∏ô‡πà‡∏ô‡∏≠‡∏ô‡∏ï‡∏≤‡∏°‡∏™‡∏°‡∏°‡∏ï‡∏¥‡∏ê‡∏≤‡∏ô‡∏ô‡∏µ‡πâ?",
    choices: [
      "‡∏Å. ‡∏ô‡∏Å‡πÅ‡∏Å‡πâ‡∏ß‡∏ö‡∏¥‡∏ô‡πÑ‡∏î‡πâ",
      "‡∏Ç. ‡∏°‡∏µ‡∏™‡∏±‡∏ï‡∏ß‡πå‡∏ó‡∏µ‡πà‡∏ö‡∏¥‡∏ô‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏±‡∏ï‡∏ß‡πå‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á‡∏•‡∏π‡∏Å‡∏î‡πâ‡∏ß‡∏¢‡∏ô‡∏°",
      "‡∏Ñ. ‡∏™‡∏±‡∏ï‡∏ß‡πå‡∏ó‡∏µ‡πà‡∏ö‡∏¥‡∏ô‡πÑ‡∏î‡πâ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏Ñ‡∏∑‡∏≠‡∏ô‡∏Å‡πÅ‡∏Å‡πâ‡∏ß",
      "‡∏á. ‡∏ô‡∏Å‡πÅ‡∏Å‡πâ‡∏ß‡∏ö‡∏≤‡∏á‡∏ï‡∏±‡∏ß‡∏≠‡∏≤‡∏à‡∏ö‡∏¥‡∏ô‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ"
    ],
    answer: 0
  },
  {/*‡∏Ç‡πâ‡∏≠‡∏ó‡∏µ‡πà 8*/
    title: "8) ‡∏£‡∏´‡∏±‡∏™‡∏•‡∏±‡∏ö 4 ‡∏´‡∏•‡∏±‡∏Å‡∏°‡∏µ‡∏Ñ‡∏∏‡∏ì‡∏™‡∏°‡∏ö‡∏±‡∏ï‡∏¥:",
    conditions: [
      "‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏•‡∏Ç‡∏Ñ‡∏π‡πà",
      "‡∏ú‡∏•‡∏£‡∏ß‡∏°‡πÄ‡∏•‡∏Ç‡πÇ‡∏î‡∏î = 15",
      "‡∏´‡∏≤‡∏£‡∏î‡πâ‡∏ß‡∏¢ 5 ‡πÑ‡∏°‡πà‡∏•‡∏á‡∏ï‡∏±‡∏ß"
    ],
    question: "‡∏£‡∏´‡∏±‡∏™‡∏•‡∏±‡∏ö‡πÉ‡∏ô‡∏Ç‡πâ‡∏≠‡πÉ‡∏î '‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ' ‡πÄ‡∏õ‡πá‡∏ô‡πÑ‡∏õ‡∏ï‡∏≤‡∏°‡∏Ñ‡∏∏‡∏ì‡∏™‡∏°‡∏ö‡∏±‡∏ï‡∏¥‡πÑ‡∏î‡πâ?",
    choices: [
      "‡∏Å. 3444",
      "‡∏Ç. 9321",
      "‡∏Ñ. 5064",
      "‡∏á. 2616"
    ],
    answer: 1
  },
  {/*‡∏Ç‡πâ‡∏≠‡∏ó‡∏µ‡πà 9*/
    title: "9) ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô ‡∏Ñ‡∏∑‡∏≠: '‡∏ô‡∏≥‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà‡∏õ‡πâ‡∏≠‡∏ô‡∏°‡∏≤ ‡∏Ñ‡∏π‡∏ì 3 ‡πÅ‡∏•‡πâ‡∏ß ‡∏•‡∏ö 1' ‡∏ñ‡πâ‡∏≤‡∏õ‡πâ‡∏≠‡∏ô‡πÄ‡∏•‡∏Ç 5 ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏Ñ‡∏∑‡∏≠‡πÄ‡∏ó‡πà‡∏≤‡πÉ‡∏î?",
    choices: [
      "‡∏Å. 14",
      "‡∏Ç. 12",
      "‡∏Ñ. 16",
      "‡∏á. 15"
    ],
    answer: 0
  },
  {/*‡∏Ç‡πâ‡∏≠‡∏ó‡∏µ‡πà 10*/
    title: "10) ‡∏°‡∏µ‡∏Ñ‡∏ô‡∏û‡∏π‡∏î‡∏à‡∏£‡∏¥‡∏á‡πÅ‡∏Ñ‡πà '‡∏Ñ‡∏ô‡πÄ‡∏î‡∏µ‡∏¢‡∏ß' ‡πÇ‡∏î‡∏¢‡∏ó‡∏µ‡πà",
    conditions: [
      "A ‡∏û‡∏π‡∏î‡∏ß‡πà‡∏≤: 'B ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏•‡∏≠‡∏Å‡∏Å‡∏≤‡∏£‡∏ö‡πâ‡∏≤‡∏ô'",
      "B ‡∏û‡∏π‡∏î‡∏ß‡πà‡∏≤: 'C ‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏ô‡∏•‡∏≠‡∏Å‡∏Å‡∏≤‡∏£‡∏ö‡πâ‡∏≤‡∏ô'",
      "C ‡∏û‡∏π‡∏î‡∏ß‡πà‡∏≤: 'A ‡∏û‡∏π‡∏î‡πÇ‡∏Å‡∏´‡∏Å'"
    ],
    question: "‡∏£‡πÉ‡∏Ñ‡∏£‡∏Ñ‡∏∑‡∏≠‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà '‡∏•‡∏≠‡∏Å‡∏Å‡∏≤‡∏£‡∏ö‡πâ‡∏≤‡∏ô'?",
    choices: [
      "‡∏Å. A",
      "‡∏Ç. B",
      "‡∏Ñ. C",
      "‡∏á. ‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÉ‡∏Ñ‡∏£‡∏•‡∏≠‡∏Å"
    ],
    answer: 2
  },
  {/*‡∏Ç‡πâ‡∏≠‡∏ó‡∏µ‡πà 11*/
    title: "11) ‡∏ú‡∏•: ‡∏ï‡∏π‡πâ‡πÄ‡∏¢‡πá‡∏ô‡∏°‡∏µ‡∏ô‡πâ‡∏≥‡πÅ‡∏Ç‡πá‡∏á‡πÄ‡∏Å‡∏≤‡∏∞‡∏°‡∏≤‡∏Å‡∏ú‡∏¥‡∏î‡∏õ‡∏Å‡∏ï‡∏¥ ‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•‡πÉ‡∏î '‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏‡∏´‡∏•‡∏±‡∏Å' ‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î?",
    choices: [
      "‡∏Å. ‡∏õ‡∏•‡∏±‡πä‡∏Å‡∏ï‡∏π‡πâ‡πÄ‡∏¢‡πá‡∏ô‡∏´‡∏•‡∏∏‡∏î",
      "‡∏Ç. ‡πÄ‡∏õ‡∏¥‡∏î-‡∏õ‡∏¥‡∏î‡∏õ‡∏£‡∏∞‡∏ï‡∏π‡∏ï‡∏π‡πâ‡πÄ‡∏¢‡πá‡∏ô‡∏ö‡πà‡∏≠‡∏¢‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ",
      "‡∏Ñ. ‡∏ï‡∏π‡πâ‡πÄ‡∏¢‡πá‡∏ô‡∏ï‡∏±‡πâ‡∏á‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏ó‡∏µ‡πà‡∏£‡πà‡∏°",
      "‡∏á. ‡πÉ‡∏™‡πà‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÉ‡∏ô‡∏ï‡∏π‡πâ‡πÄ‡∏¢‡πá‡∏ô‡∏ô‡πâ‡∏≠‡∏¢"
    ],
    answer: 1
  },
  {/*‡∏Ç‡πâ‡∏≠‡∏ó‡∏µ‡πà 12*/
    title: "12) ‡∏Å‡∏é:",
    conditions: [
      "‡∏ñ‡πâ‡∏≤‡∏ù‡∏ô‡∏ï‡∏Å ‡∏à‡∏∞‡πÑ‡∏°‡πà‡πÄ‡∏≠‡∏≤‡∏£‡πà‡∏°‡πÑ‡∏õ",
      "‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡πÄ‡∏≠‡∏≤‡∏£‡πà‡∏°‡πÑ‡∏õ ‡∏à‡∏∞‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å‡πÑ‡∏°‡πà‡∏™‡∏ö‡∏≤‡∏¢‡πÉ‡∏à",
    ],
    question: "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏à‡∏£‡∏¥‡∏á: ‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å‡∏™‡∏ö‡∏≤‡∏¢‡πÉ‡∏à ‡∏Ç‡πâ‡∏≠‡∏™‡∏£‡∏∏‡∏õ‡πÉ‡∏î‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á?",
    choices: [
      "‡∏Å. ‡∏ù‡∏ô‡∏ï‡∏Å",
      "‡∏Ç. ‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏ô‡∏≥‡∏£‡πà‡∏°‡πÑ‡∏õ‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô",
      "‡∏Ñ. ‡∏ù‡∏ô‡πÑ‡∏°‡πà‡∏ï‡∏Å ‡πÅ‡∏ï‡πà‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡πÑ‡∏°‡πà‡∏ô‡∏≥‡∏£‡πà‡∏°‡πÑ‡∏õ",
      "‡∏á. ‡∏™‡∏£‡∏∏‡∏õ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ"
    ],
    answer: 1
  },
  {/*‡∏Ç‡πâ‡∏≠‡∏ó‡∏µ‡πà 13*/
    title: "13) ‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç ‚Äú4, 12, 36, 108, ?‚Äù ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡∏ñ‡∏±‡∏î‡πÑ‡∏õ‡∏Ñ‡∏∑‡∏≠‡πÄ‡∏ó‡πà‡∏≤‡πÉ‡∏î?",
    choices: [
      "‡∏Å. 144",
      "‡∏Ç. 216",
      "‡∏Ñ. 324",
      "‡∏á. 432"
    ],
    answer: 2
  },
  {/*‡∏Ç‡πâ‡∏≠‡∏ó‡∏µ‡πà 14*/
    title: "14) ‡∏´‡∏∏‡πà‡∏ô‡∏¢‡∏ô‡∏ï‡πå‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏ó‡∏µ‡πà (1, 1) (‡πÅ‡∏ñ‡∏ß, ‡∏´‡∏•‡∏±‡∏Å) ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á: ‡πÄ‡∏î‡∏¥‡∏ô‡∏Ç‡∏ß‡∏≤, ‡πÄ‡∏î‡∏¥‡∏ô‡∏•‡∏á, ‡πÄ‡∏î‡∏¥‡∏ô‡∏Ç‡∏ß‡∏≤, ‡πÄ‡∏î‡∏¥‡∏ô‡∏•‡∏á‡∏´‡∏•‡∏±‡∏á‡∏ó‡∏≥‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á '‡πÄ‡∏î‡∏¥‡∏ô‡∏Ç‡∏ß‡∏≤' ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà‡∏™‡∏≠‡∏á‡πÄ‡∏™‡∏£‡πá‡∏à ‡∏´‡∏∏‡πà‡∏ô‡∏¢‡∏ô‡∏ï‡πå‡∏à‡∏∞‡∏≠‡∏¢‡∏π‡πà‡∏ó‡∏µ‡πà‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÉ‡∏î?",
    choices: [
      "‡∏Å. (1, 3)",
      "‡∏Ç. (3, 2)",
      "‡∏Ñ. (3, 3)",
      "‡∏á. (2, 3)"
    ],
    answer: 3
  },
  {/*‡∏Ç‡πâ‡∏≠‡∏ó‡∏µ‡πà 15*/
    title: "15) ‡∏ú‡∏•: ‡∏Ñ‡∏≠‡∏°‡∏û‡∏¥‡∏ß‡πÄ‡∏ï‡∏≠‡∏£‡πå‡∏ï‡πà‡∏≠‡∏≠‡∏¥‡∏ô‡πÄ‡∏ó‡∏≠‡∏£‡πå‡πÄ‡∏ô‡πá‡∏ï‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ ‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•‡πÉ‡∏î‡∏ó‡∏µ‡πà '‡πÑ‡∏°‡πà‡∏ô‡πà‡∏≤‡∏à‡∏∞‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á' ‡∏Å‡∏±‡∏ö‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ô‡∏µ‡πâ?",
    choices: [
      "‡∏Å. ‡∏™‡∏≤‡∏¢ LAN ‡∏ñ‡∏π‡∏Å‡∏ñ‡∏≠‡∏î",
      "‡∏Ç. ‡πÄ‡∏£‡∏≤‡πÄ‡∏ï‡∏≠‡∏£‡πå (Router) ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏õ‡∏¥‡∏î",
      "‡∏Ñ. ‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡∏Ñ‡∏≠‡∏°‡∏û‡∏¥‡∏ß‡πÄ‡∏ï‡∏≠‡∏£‡πå‡∏°‡∏µ‡∏£‡∏≠‡∏¢‡πÅ‡∏ï‡∏Å",
      "‡∏á. ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏° Wi-Fi"
    ],
    answer: 2
  },
  {/*‡∏Ç‡πâ‡∏≠‡∏ó‡∏µ‡πà 16*/
    title: "16) ‡∏à‡∏≤‡∏Å‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏´‡∏ô‡∏î ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡πÉ‡∏î‡∏ó‡∏µ‡πà‡∏Ñ‡∏ß‡∏£‡πÉ‡∏™‡πà‡πÉ‡∏ô‡∏ä‡πà‡∏≠‡∏á‡∏ß‡πà‡∏≤‡∏á",
    grid: [
    [3, 6, 4, 1, "", 2],
    [2, 1, 5, 3, 6, 4],
    [6, 3, 2, 4, 1, 5],
    [5, 4, 1, 2, 3, 6],
    [1, 2, 6, 5, 4, 3],
    [4, 5, 3, 6, 2, 1],
  ],
    choices: [
      "‡∏Å. 1",
      "‡∏Ç. 3",
      "‡∏Ñ. 5",
      "‡∏á. 6"
    ],
    answer: 2
  },
  {/*‡∏Ç‡πâ‡∏≠‡∏ó‡∏µ‡πà 17*/
    title: "17) ‡∏à‡∏≤‡∏Å‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏´‡∏ô‡∏î ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡πÉ‡∏î‡∏ó‡∏µ‡πà‡∏Ñ‡∏ß‡∏£‡πÉ‡∏™‡πà‡πÉ‡∏ô‡∏ä‡πà‡∏≠‡∏á‡∏ß‡πà‡∏≤‡∏á A ‡πÅ‡∏•‡∏∞ B ‡∏ï‡∏≤‡∏°‡∏•‡∏≥‡∏î‡∏±‡∏ö",
    grid: [
    [1, 6, 5, "B", 2, 4],
    [4, 2, 3, 1, 5, 6],
    [3, 1, 6, 5, 4, 2],
    [2, "A", 4, 6, 3, 1],
    [6, 3, 2, 4, 1, 5],
    [5, 4, 1, 2, 6, 3],
  ],
    choices: [
      "‡∏Å. 5, 3",
      "‡∏Ç. 3, 5",
      "‡∏Ñ. 2, 1",
      "‡∏á. 1, 2"
    ],
    answer: 0
  },
  {/*‡∏Ç‡πâ‡∏≠‡∏ó‡∏µ‡πà 18*/
    title: "18) ‡∏à‡∏≤‡∏Å‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏´‡∏ô‡∏î ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡πÉ‡∏î‡∏ó‡∏µ‡πà‡∏Ñ‡∏ß‡∏£‡πÉ‡∏™‡πà‡πÉ‡∏ô‡∏ä‡πà‡∏≠‡∏á‡∏ß‡πà‡∏≤‡∏á A, B ‡πÅ‡∏•‡∏∞ C",
    grid: [
    [4, 6, 5, 1, 2, 3],
    [3, 1, "A", "B", 6, 6],
    [1, 2, 4, 4, 3, 5],
    [6, 5, 3, 2, 2, 4],
    [5, 4, 1, 5, "C", 2],
    [2, 3, 6, 6, 5, 1],
  ],
    choices: [
      "‡∏Å. 2, 6, 4",
      "‡∏Ç. 5, 2, 6",
      "‡∏Ñ. 2, 4, 6",
      "‡∏á. 6, 4, 2"
    ],
    answer: 2
  },
  {/*‡∏Ç‡πâ‡∏≠‡∏ó‡∏µ‡πà 19*/
    title: "19) ‡∏à‡∏≤‡∏Å‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏´‡∏ô‡∏î ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡πÉ‡∏î‡∏ó‡∏µ‡πà‡∏Ñ‡∏ß‡∏£‡πÉ‡∏™‡πà‡πÉ‡∏ô‡∏ä‡πà‡∏≠‡∏á‡∏ß‡πà‡∏≤‡∏á A, B, C ‡πÅ‡∏•‡∏∞ D",
    grid: [
    [1, 4, 3, "C", 5, 6],
    [5, "A", 6, 1, "D", 3],
    [2, 3, 1, 5, 6, 4],
    [4, 6, 5, 3, 1, 2],
    [3, 1, 4, 6, 2, 5],
    [6, "B", 2, 4, 3, 1],
  ],
    choices: [
      "‡∏Å. 2, 4, 2, 5",
      "‡∏Ç. 2, 5, 2, 4",
      "‡∏Ñ. 4, 5, 2, 2",
      "‡∏á. 5, 2, 4, 2"
    ],
    answer: 1
  },
  {/*‡∏Ç‡πâ‡∏≠‡∏ó‡∏µ‡πà 20*/
    title: "20) ‡∏à‡∏á‡πÄ‡∏ï‡∏¥‡∏°‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç 1 ‡∏ñ‡∏∂‡∏á 6 ‡∏ó‡∏µ‡πà‡∏´‡∏≤‡∏¢‡πÑ‡∏õ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î ‡∏•‡∏á‡πÉ‡∏ô‡∏ä‡πà‡∏≠‡∏á‡∏ß‡πà‡∏≤‡∏á‡∏Ç‡∏≠‡∏á‡∏ï‡∏≤‡∏£‡∏≤‡∏á Sudoku 6 x 6 ‡πÉ‡∏´‡πâ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå",
    type: "sudoku",
    grid: [
      [6, "", 5, "", 3, 4],
      [3, "", "", "", 2, ""],
      [2, "", "", 4, 6, ""],
      ["", 6, 4, "", "", ""],
      ["", "", "", 3, "", ""],
      ["", 3, 6, "", 1, ""],
    ],
    solution: [
      [6, 2, 5, 1, 3, 4],
      [3, 4, 1, 6, 2, 5],
      [2, 5, 3, 4, 6, 1], // ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á (‡∏Ñ‡∏∏‡∏ì‡πÉ‡∏™‡πà‡πÄ‡∏â‡∏•‡∏¢‡∏à‡∏£‡∏¥‡∏á‡πÅ‡∏ó‡∏ô)
      [1, 6, 4, 2, 5, 3],
      [5, 1, 2, 3, 4, 6],
      [4, 3, 6, 5, 1, 2],
    ],
    score: 1
    },
  ];

const examAnswersText = [
  "1. ‡∏Ç","2. ‡∏Ç","3. ‡∏Ñ","4. ‡∏á","5. ‡∏Ç",
  "6. ‡∏Å","7. ‡∏Å","8. ‡∏Ç","9.vpkd ‡∏Å","10. ‡∏Ñ",
  "11. ‡∏Ç","12. ‡∏Ç","13. ‡∏Ñ","14. ‡∏á","15. ‡∏Ñ",
  "16. ‡∏Ñ","17. ‡∏Å","18. ‡∏Ñ","19. ‡∏Ç",
  "20. ‡∏î‡∏π‡πÄ‡∏â‡∏•‡∏¢‡∏ï‡∏≤‡∏£‡∏≤‡∏á Sudoku"
];
</script>

<body>
  <div class="card" id="login">
    <h2>üîê ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</h2>

    <h3>üë©‚Äçüéì ‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</h3>
    <input id="loginName" placeholder="‡∏ä‡∏∑‡πà‡∏≠-‡∏™‡∏Å‡∏∏‡∏•"><br><br>
    <input id="loginClass" placeholder="‡∏ä‡∏±‡πâ‡∏ô" style="width:80px">
    <input id="loginNo" placeholder="‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà" style="width:80px"><br><br>
    <button onclick="loginStudent()">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</button>

    <hr>

    <h3>üë®‚Äçüè´ ‡∏Ñ‡∏£‡∏π</h3>
    <input id="teacherPass" type="password" placeholder="‡∏£‡∏´‡∏±‡∏™‡∏Ñ‡∏£‡∏π"><br><br>
    <button onclick="loginTeacher()">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏Ñ‡∏£‡∏π</button>

    <hr>
    
    <h3>üìÑ ‡∏Ç‡πâ‡∏≠‡∏™‡∏≠‡∏ö </h3>
    <input id="examUser" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡∏™‡∏≠‡∏ö"><br><br>
    <input id="examClass" placeholder="‡∏ä‡∏±‡πâ‡∏ô" style="width:80px">
    <input id="examNo" placeholder="‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà" style="width:80px"><br><br>
    <input id="examPass" type="password" placeholder="‡∏£‡∏´‡∏±‡∏™‡∏Ç‡πâ‡∏≠‡∏™‡∏≠‡∏ö"><br><br>
    <button onclick="loginExam()">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏Ç‡πâ‡∏≠‡∏™‡∏≠‡∏ö</button>
  </div>


  <div class="card hidden" id="teacherPage">
    <h2>üìä ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏ú‡∏•‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</h2>

    <table border="1" width="100%" style="border-collapse:collapse">
      <thead>
        <tr>
          <th>‡∏ä‡∏∑‡πà‡∏≠</th>
          <th>‡∏ä‡∏±‡πâ‡∏ô</th>
          <th>‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà</th>
          <th>‡πÇ‡∏´‡∏°‡∏î</th>
          <th>‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</th>
          <th>‡∏£‡∏∞‡∏î‡∏±‡∏ö</th>   <!-- ‚úÖ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ -->
          <th>‡πÄ‡∏ß‡∏•‡∏≤</th>
          <th>PDF</th>     <!-- ‚úÖ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ -->
        </tr>
      </thead>
      <tbody id="reportTable"></tbody>
    </table>

    <br>
    <button onclick="exportCSV()">‚¨áÔ∏è ‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î CSV</button>
    <script>
      function exportByMode(mode) {
        db.ref("reports").once("value", snap => {
          let csv = "‡∏ä‡∏∑‡πà‡∏≠,‡∏ä‡∏±‡πâ‡∏ô,‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà,‡πÇ‡∏´‡∏°‡∏î,‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô,‡πÄ‡∏ß‡∏•‡∏≤\n";
          let found = false;

          snap.forEach(child => {
            const r = child.val();
            if (r.mode === mode) {
              found = true;
              csv += `${r.name},${r.class},${r.no},${r.mode},${r.score},${r.time}\n`;
            }
          });

          if (!found) {
            alert("‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÇ‡∏´‡∏°‡∏î " + mode);
            return;
          }

          const BOM = "\uFEFF";
          const blob = new Blob([BOM + csv], {
            type: "text/csv;charset=utf-8;"
          });

          const url = URL.createObjectURL(blob);
          const a = document.createElement("a");
          a.href = url;
          a.download = `sudoku_${mode}.csv`;
          a.click();
        });
      }

    </script>
    <script>
      function clearReports() {
        if (!confirm("‚ö†Ô∏è ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏•‡πâ‡∏≤‡∏á‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÉ‡∏ä‡πà‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?")) return;

        db.ref("reports").remove();
        document.getElementById("reportTable").innerHTML = "";

        alert("üßπ ‡∏•‡πâ‡∏≤‡∏á‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß");
      }

    </script>

    <hr>

    <h4>üì§ Export ‡πÅ‡∏¢‡∏Å‡πÇ‡∏´‡∏°‡∏î</h4>
    <button onclick="exportByMode('‡πÅ‡∏ö‡∏ö‡∏ù‡∏∂‡∏Å')">üìò ‡πÅ‡∏ö‡∏ö‡∏ù‡∏∂‡∏Å</button>
    <button onclick="exportByMode('‡πÄ‡∏Å‡∏°')">üéÆ ‡πÄ‡∏Å‡∏°</button>
    <button onclick="exportByMode('‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö')">üìù ‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö</button>

    <hr>

    <button onclick="clearReports()" style="background:#c0392b">
      üóëÔ∏è ‡∏•‡πâ‡∏≤‡∏á‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
    </button>

    <button onclick="logout()">üö™ ‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö</button>
  </div>


  <div class="card hidden" id="menu">
    <h2>üß† Sudoku 6√ó6</h2>
    <div id="studentForm">
      <p>‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</p>
      <input id="stuName" placeholder="‡∏ä‡∏∑‡πà‡∏≠-‡∏™‡∏Å‡∏∏‡∏•"><br><br>
      <input id="stuClass" placeholder="‡∏ä‡∏±‡πâ‡∏ô" style="width:80px">
      <input id="stuNo" placeholder="‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà" style="width:80px"><br><br>
    </div>
    <div id="teacherPanel" class="hidden">
      <h2>üë©‚Äçüè´ ‡πÄ‡∏°‡∏ô‡∏π‡∏Ñ‡∏£‡∏π</h2>
      <button onclick="exportCSV()">üì§ Export ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô (CSV)</button>
      <button onclick="clearRoomScores()">üßπ ‡∏•‡πâ‡∏≤‡∏á‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡πâ‡∏≠‡∏á</button>
      <button onclick="teacherLogout()">üö™ ‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö‡∏Ñ‡∏£‡∏π</button>
    </div>



    <hr>

    <h3>‡πÇ‡∏´‡∏°‡∏î‡πÅ‡∏ö‡∏ö‡∏ù‡∏∂‡∏Å</h3>
    <select id="level">
      <option value="12">‡∏á‡πà‡∏≤‡∏¢</option>
      <option value="16">‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á</option>
      <option value="20">‡∏¢‡∏≤‡∏Å</option>
    </select><br>
    <button onclick="startPractice()">üìò ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ù‡∏∂‡∏Å</button>

    <hr>

    <button onclick="startGame()">üéÆ ‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏Å‡∏°</button>
    <button onclick="startExam()">üìù ‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö</button>
    <hr>
    <button onclick="logout()">üö™ ‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö</button>

  </div>


  <div class="card hidden" id="practice">
    <p>üë§ <span id="stuInfoPractice"></span></p>
    <h3 id="levelText"></h3>
    <p>‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏™‡∏∞‡∏™‡∏°: <span id="score">0</span></p>
    <div id="grid" class="grid"></div>
    <button onclick="checkAnswer()">‡∏ï‡∏£‡∏ß‡∏à‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö</button>
    <button onclick="newPuzzle()">‡∏Ç‡πâ‡∏≠‡∏ï‡πà‡∏≠‡πÑ‡∏õ</button>
    <button onclick="backMenu()">‡∏Å‡∏•‡∏±‡∏ö‡πÄ‡∏°‡∏ô‡∏π</button>
  </div>

  <script>


    const TEACHER_PASSWORD = "279515"; // ‡∏Ñ‡∏£‡∏π‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÑ‡∏î‡πâ
    const REAL_EXAM_PASSWORD = "exam2026"; // ‡∏Ñ‡∏£‡∏π‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÑ‡∏î‡πâ

    function exportCSV() {
      db.ref("rooms").once("value", snap => {
        let csv = "‡∏ä‡∏±‡πâ‡∏ô,‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà,‡∏ä‡∏∑‡πà‡∏≠,‡∏ù‡∏∂‡∏Å,‡πÄ‡∏Å‡∏°,‡∏™‡∏≠‡∏ö\n";

        snap.forEach(roomSnap => {
          const room = roomSnap.key;
          roomSnap.child("students").forEach(stuSnap => {
            const s = stuSnap.val();
            csv += `${room},${stuSnap.key},${s.name},${s.practice || 0},${s.game || 0},${s.exam || 0}\n`;
          });
        });

        const BOM = "\uFEFF";
        const blob = new Blob([BOM + csv], {
          type: "text/csv;charset=utf-8;"
        });

        const url = URL.createObjectURL(blob);
        const a = document.createElement("a");
        a.href = url;
        a.download = "sudoku_scores.csv";
        a.click();
      });
    }


    function loadReports() {
      const table = document.getElementById("reportTable");
      table.innerHTML = "";

      db.ref("reports").on("value", snap => {
        table.innerHTML = "";
        snap.forEach(child => {
          const r = child.val();
          const tr = document.createElement("tr");
          tr.innerHTML = `
        <tr>
          <td>${r.name}</td> 
          <td>${r.class}</td> 
          <td>${r.no}</td> 
          <td>${r.mode}</td> 
          <td>${r.score}</td> 
          <td>${r.level || "-"}</td>  
          <td>${r.time}</td>  
          <td>    
            <button onclick='generatePDFForTeacher(   
            "${r.name}",      
            "${r.class}",      
            "${r.no}",     
            "${r.score}",      
            "${r.level}"
            )'>üìÑ PDF</button> 
            </td>
            </tr>
      `;
          table.appendChild(tr);
        });
      });
    }

    function generatePDFForTeacher(name, cls, no, score, level){
      const { jsPDF } = window.jspdf;
      const doc = new jsPDF();

      let y = 20;

      doc.setFontSize(16);
      doc.text("‡πÉ‡∏ö‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö", 105, y, { align:"center" });

      y += 15;
      doc.setFontSize(12);
      doc.text(`‡∏ä‡∏∑‡πà‡∏≠-‡∏™‡∏Å‡∏∏‡∏•: ${name}`, 20, y);
      y += 8;
      doc.text(`‡∏ä‡∏±‡πâ‡∏ô: ${cls}    ‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà: ${no}`, 20, y);

      y += 12;
      doc.text(`‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ: ${score} / 20`, 20, y);
      y += 8;
      doc.text(`‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ú‡∏•‡∏™‡∏±‡∏°‡∏§‡∏ó‡∏ò‡∏¥‡πå: ${level}`, 20, y);

      y += 12;
      doc.text(`‡∏≠‡∏≠‡∏Å‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡πÇ‡∏î‡∏¢‡∏Ñ‡∏£‡∏π`, 20, y);
      doc.text(`‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà: ${new Date().toLocaleDateString("th-TH")}`, 20, y+8);

      doc.save(`‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô_${name}.pdf`);
    }



    function loginStudent() {
      if (
        !loginName.value.trim() ||
        !loginClass.value.trim() ||
        !loginNo.value.trim()
      ) {
        alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö");
        return;
      }

      localStorage.setItem("student", JSON.stringify({
        role: "student",
        name: loginName.value.trim(),
        class: loginClass.value.trim(),
        no: loginNo.value.trim()
      }));

      document.getElementById("login").classList.add("hidden");
      document.getElementById("menu").classList.remove("hidden");
      showStudent(); // ‡∏ã‡πà‡∏≠‡∏ô‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏î‡∏¥‡∏°
    }

    
    function loginTeacher() {
      if (teacherPass.value !== TEACHER_PASSWORD) {
        alert("‡∏£‡∏´‡∏±‡∏™‡∏Ñ‡∏£‡∏π‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á");
        return;
      }

      localStorage.setItem("teacher", "true");

      document.getElementById("login").classList.add("hidden");
      document.getElementById("teacherPage").classList.remove("hidden");

      loadReports();

      loadTeacher(); // ‚úÖ ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç
    }


    function loadTeacher() {
      document.getElementById("menu").classList.add("hidden");
      document.getElementById("teacherPage").classList.remove("hidden");

      const table = document.getElementById("scoreTable");
      table.innerHTML = "";

      db.ref("rooms").on("value", snap => {
        table.innerHTML = "";

        snap.forEach(roomSnap => {
          roomSnap.child("students").forEach(child => {
            const s = child.val();
            table.innerHTML += `
          <tr>
            <td>${child.key}</td>
            <td>${s.name || "-"}</td>
            <td>${s.practice || 0}</td>
            <td>${s.game || 0}</td>
            <td>${s.exam || 0}</td>
          </tr>
        `;
          });
        });
      });
    }


    function loginExam(){

      const user = document.getElementById("examUser").value.trim();
      const cls  = document.getElementById("examClass").value.trim();
      const no   = document.getElementById("examNo").value.trim();
      const pass = document.getElementById("examPass").value;

      if(!user || !cls || !no || !pass){
        alert("‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏°‡πà‡∏Ñ‡∏£‡∏ö");
        return;
      }

      if(pass !== REAL_EXAM_PASSWORD){
        alert("‡∏£‡∏´‡∏±‡∏™‡∏ú‡∏¥‡∏î");
        return;
      }

      alert("‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á");

      localStorage.setItem("student", JSON.stringify({
        role:"student",
        name:user,
        class:cls,
        no:no
      }));

      document.getElementById("login").classList.add("hidden");
      document.getElementById("realExam").classList.remove("hidden");

      startRealExam();
    }


    function saveReport(mode, score) {
      const stu = JSON.parse(localStorage.getItem("student"));
      if (!stu) return;

      console.log("SAVE REPORT", stu.name, mode, score);

      db.ref("reports").push({
        name: stu.name,
        class: stu.class,
        no: stu.no,
        mode: mode,
        score: score,
        time: new Date().toLocaleString()

      });
    }


    function showStudent() {
      const stu = JSON.parse(localStorage.getItem("student"));
      if (!stu) return;

      const text = `${stu.name} | ‡∏ä‡∏±‡πâ‡∏ô ${stu.class} ‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà ${stu.no}`;

      if (document.getElementById("stuInfoPractice"))
        stuInfoPractice.innerText = text;

      if (document.getElementById("stuInfoGame"))
        stuInfoGame.innerText = text;

      if (document.getElementById("stuInfoExam"))
        stuInfoExam.innerText = text;

      // üîí ‡∏ã‡πà‡∏≠‡∏ô‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏î‡∏¥‡∏°‡πÉ‡∏ô‡πÄ‡∏°‡∏ô‡∏π
      const form = document.getElementById("studentForm");
      if (form) form.style.display = "none";
    }


    function checkStudent() {
      const stu = JSON.parse(localStorage.getItem("student"));
      if (!stu) {
        alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô");
        return false;
      }
      return true;
    }



    /* ===== SOLUTION BASE ===== */
    const baseSolution = [
      [1, 2, 3, 4, 5, 6],
      [4, 5, 6, 1, 2, 3],
      [2, 3, 1, 5, 6, 4],
      [5, 6, 4, 2, 3, 1],
      [3, 1, 2, 6, 4, 5],
      [6, 4, 5, 3, 1, 2]
    ];

    let solution = [];
    let holes = 16;
    let score = 0;
    let maxPracticeScore = 0;

    const grid = document.getElementById("grid");
    const scoreEl = document.getElementById("score");
    const levelText = document.getElementById("levelText");

    /* ===== UTIL ===== */
    function shuffle(arr) {
      return arr.sort(() => Math.random() - 0.5);
    }

    /* ===== RANDOMIZE SOLUTION ===== */
    function randomizeSolution() {
      solution = JSON.parse(JSON.stringify(baseSolution));

      const map = shuffle([1, 2, 3, 4, 5, 6]);
      solution = solution.map(r => r.map(n => map[n - 1]));

      for (let b = 0; b < 3; b++) {
        const rows = shuffle([0, 1]);
        [solution[b * 2 + rows[0]], solution[b * 2 + rows[1]]] =
          [solution[b * 2 + rows[1]], solution[b * 2 + rows[0]]];
      }

      for (let b = 0; b < 2; b++) {
        const cols = shuffle([0, 1, 2]);
        solution = solution.map(row => {
          const t = [...row];
          for (let i = 0; i < 3; i++) {
            t[b * 3 + i] = row[b * 3 + cols[i]];
          }
          return t;
        });
      }
    }

    function generatePDF(){
      const { jsPDF } = window.jspdf;
      const doc = new jsPDF();

      const stu = JSON.parse(localStorage.getItem("student")) || {
        name: "‡πÑ‡∏°‡πà‡∏£‡∏∞‡∏ö‡∏∏",
        class: "-",
        no: "-"
      };

      const level = getAchievementLevel(examScore);

      let y = 20;

      doc.setFontSize(16);
      doc.text("‡πÉ‡∏ö‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö", 105, y, { align: "center" });

      y += 15;
      doc.setFontSize(12);
      doc.text(`‡∏ä‡∏∑‡πà‡∏≠-‡∏™‡∏Å‡∏∏‡∏•: ${stu.name}`, 20, y);
      y += 8;
      doc.text(`‡∏ä‡∏±‡πâ‡∏ô: ${stu.class}    ‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà: ${stu.no}`, 20, y);

      y += 12;
      doc.text(`‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ: ${examScore} / ${REAL_EXAM_TOTAL}`, 20, y);
      y += 8;
      doc.text(`‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ú‡∏•‡∏™‡∏±‡∏°‡∏§‡∏ó‡∏ò‡∏¥‡πå: ${level}`, 20, y);

      y += 12;
      doc.text(`‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏≠‡∏ö: ${new Date().toLocaleDateString("th-TH")}`, 20, y);

      doc.save(`‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏ú‡∏•_${stu.name}.pdf`);
    }


    /* ===== DRAW GRID ===== */
    function drawGrid() {
      grid.innerHTML = "";
      for (let r = 0; r < 6; r++) {
        for (let c = 0; c < 6; c++) {
          const cell = document.createElement("div");
          cell.className = "cell";

          if (c === 2) cell.style.borderRight = "4px solid #3f5f93";
          if (r === 1 || r === 3) cell.style.borderBottom = "4px solid #3f5f93";

          if (Math.random() * 36 > holes) {
            cell.textContent = solution[r][c];
            cell.classList.add("fixed");
          } else {
            const input = document.createElement("input");
            input.dataset.r = r;
            input.dataset.c = c;
            input.maxLength = 1;
            input.oninput = () => input.value = input.value.replace(/[^1-6]/g, "");
            cell.appendChild(input);
          }
          grid.appendChild(cell);
        }
      }
    }

    /* ===== CHECK ===== */
    function checkAnswer() {
      document.querySelectorAll(".cell input").forEach(inp => {
        const r = inp.dataset.r;
        const c = inp.dataset.c;
        if (parseInt(inp.value) === solution[r][c]) {
          if (!inp.parentElement.classList.contains("correct")) {
            score++;
            scoreEl.innerText = score;
          }
          inp.parentElement.classList.add("correct");
          inp.parentElement.classList.remove("wrong");
        } else {
          inp.parentElement.classList.add("wrong");
          inp.parentElement.classList.remove("correct");
        }
      });

      // ‚úÖ ‡πÄ‡∏Å‡πá‡∏ö‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏ó‡∏µ‡πà‡∏°‡∏≤‡∏Å‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î
      if (score > maxPracticeScore) {
        maxPracticeScore = score;
        saveScore("practice", maxPracticeScore);
      }
    }



    /* ===== FLOW ===== */
    function startPractice() {
      showStudent();
      if (!checkStudent()) return;

      holes = parseInt(document.getElementById("level").value);
      levelText.innerText = "‡∏£‡∏∞‡∏î‡∏±‡∏ö: " + document.getElementById("level").selectedOptions[0].text;
      document.getElementById("menu").classList.add("hidden");
      document.getElementById("practice").classList.remove("hidden");
      score = 0;
      maxPracticeScore = 0;
      scoreEl.innerText = 0;
      newPuzzle();
    }

    function newPuzzle() {
      randomizeSolution();
      drawGrid();
    }

  </script>
  
  <div class="card realExam hidden" id="realExam">
    <h3>üìÑ ‡∏Ç‡πâ‡∏≠‡∏™‡∏≠‡∏ö ‡∏Ç‡πâ‡∏≠‡∏ó‡∏µ‡πà <span id="qNo">1</span> / <span id="qTotal">20</span></h3>
    <div id="questionText"></div>  
    <div id="choices" class="choice-grid"></div>  
    <button onclick="nextQuestion()">‡∏ñ‡∏±‡∏î‡πÑ‡∏õ</button>
  </div>
  <script>

    let sudokuCorrect = false;
    let qIndex = 0;
    let examScore = 0;
    let studentAnswers = [];
  const REAL_EXAM_TOTAL = 20;

  function startRealExam(){
    qIndex = 0;
    examScore = 0;
    studentAnswers = [];

    document.getElementById("qTotal").innerText = REAL_EXAM_TOTAL;

    document.getElementById("realExam").classList.remove("hidden");
    showQuestion();
  }
  
  function renderFullSudoku(gridData){
    let html = `<div class="grid">`;

    for(let r=0;r<6;r++){
      for(let c=0;c<6;c++){
        const cell = gridData[r][c];
        let style = "";
        if(c===2) style += "border-right:4px solid #3f5f93;";
        if(r===1 || r===3) style += "border-bottom:4px solid #3f5f93;";

        if(cell===""){
          html += `
            <div class="cell" style="${style}">
              <input maxlength="1"
                data-r="${r}" data-c="${c}"
                oninput="this.value=this.value.replace(/[^1-6]/g,'')">
            </div>`;
        } else {
          html += `<div class="cell fixed" style="${style}">${cell}</div>`;
        }
      }
    }

    html += `</div>`;
    return html;
  }

  function checkSudokuAnswer(q){
    const inputs = document.querySelectorAll("#questionText input");
    let wrong = 0;

    for(const inp of inputs){
      const r = parseInt(inp.dataset.r);
      const c = parseInt(inp.dataset.c);

      if(!inp.value){
        return { complete:false, wrong:0 };
      }

      if(parseInt(inp.value) !== q.solution[r][c]){
        wrong++;
      }
    }

    return {
      complete: true,
      wrong: wrong
    };
  }

  function renderExamGrid(gridData){
    let html = `<div class="grid">`;

    for(let r=0;r<6;r++){
      for(let c=0;c<6;c++){
        const cell = gridData[r][c];
        let cls = "cell";
        let content = "";

        // ‡πÄ‡∏™‡πâ‡∏ô‡∏ö‡∏•‡πá‡∏≠‡∏Å 3√ó2
        let style = "";
        if(c===2) style += "border-right:4px solid #3f5f93;";
        if(r===1 || r===3) style += "border-bottom:4px solid #3f5f93;";

        // ‡∏ä‡πà‡∏≠‡∏á A B C
        if(typeof cell==="string" && /^[A-Z]$/.test(cell)){
          cls += " exam-mark";
          content = cell;
        }
        // ‡∏ä‡πà‡∏≠‡∏á‡∏ß‡πà‡∏≤‡∏á
        else if(cell===""){
          cls += " exam-blank";
          content = `<input maxlength="1"
            oninput="this.value=this.value.replace(/[^1-6]/g,'')">`;
        }
        // ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡∏•‡πá‡∏≠‡∏Å
        else{
          cls += " fixed";
          content = cell;
        }

        html += `<div class="${cls}" style="${style}">${content}</div>`;
      }
    }

    html += `</div>`;
    return html;
  }

  document.getElementById("questionText").innerHTML = html;

  const box = document.getElementById("choices");
  box.innerHTML = "";
  q.choices.forEach((c,i)=>{
    box.innerHTML += `
      <label>
        <input type="radio" name="choice" value="${i}">
        <span>${c}</span>
      </label>
    `;
  });

  function showQuestion(){
    const q = examQuestions[qIndex];
    let html = "";

    document.getElementById("qNo").innerText = qIndex + 1;

    html += `<div class="q-title">${q.title}</div>`;

    if(q.conditionTitle){
      html += `<div class="q-cond-title">${q.conditionTitle}</div>`;
    }
    if(q.conditions){
      html += `<ul class="q-cond">${q.conditions.map(c=>`<li>${c}</li>`).join("")}</ul>`;
    }
    if(q.question){
      html += `<div class="q-question">${q.question}</div>`;
    }

    if(q.type === "sudoku"){
      html += renderFullSudoku(q.grid);
    }
    else if(q.grid){
      html += renderExamGrid(q.grid);
    }

    document.getElementById("questionText").innerHTML = html;

    const box = document.getElementById("choices");
    box.innerHTML = "";

    if(q.choices){
      q.choices.forEach((c,i)=>{
        box.innerHTML += `
          <label>
            <input type="radio" name="choice" value="${i}">
            <span>${c}</span>
          </label>`;
      });
    }
  }

  function nextQuestion(){
    const q = examQuestions[qIndex];

    if(q.type === "sudoku"){
      const result = checkSudokuAnswer(q);

    if(!result.complete){
      alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å Sudoku ‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö‡∏ó‡∏∏‡∏Å‡∏ä‡πà‡∏≠‡∏á");
      return;
    }

    if(result.wrong <= 2){
      examScore += 1;   // ‚úÖ ‡πÑ‡∏î‡πâ 1 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô
      studentAnswers.push("‚úî ‡∏ñ‡∏π‡∏Å (‡∏ú‡∏¥‡∏î "+result.wrong+" ‡∏ä‡πà‡∏≠‡∏á)");
    } else {
      studentAnswers.push("‚úò ‡∏ú‡∏¥‡∏î ("+result.wrong+" ‡∏ä‡πà‡∏≠‡∏á)");
    }
  }

    /* üî• ‡∏Ç‡πâ‡∏≠‡∏õ‡∏£‡∏ô‡∏±‡∏¢ */
    else{
      const sel = document.querySelector("input[name=choice]:checked");
      if(!sel){
        alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö");
        return;
      }

      const ans = parseInt(sel.value);
      studentAnswers.push(ans);

      if(ans === q.answer){
        examScore++;
      }
    }

    qIndex++;
    if(qIndex < REAL_EXAM_TOTAL){
      showQuestion();
    } else {
      finishExam();
    }
  }
  </script>
  <script>
    
    function getAchievementLevel(score){
      if(score >= 17) return "‡∏î‡∏µ‡∏°‡∏≤‡∏Å";
      if(score >= 14) return "‡∏î‡∏µ";
      if(score >= 10) return "‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á";
      return "‡∏ï‡πâ‡∏≠‡∏á‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á";
    }

  function finishExam(){
    const stu = JSON.parse(localStorage.getItem("student"));
    const level = getAchievementLevel(examScore);
    
    document.getElementById("realExam").innerHTML = `
      <div class="card">
        <h2>üìä ‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö</h2>

        <p style="font-size:22px">
          ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ: <b>${examScore} / ${REAL_EXAM_TOTAL}</b>
        </p>

        <p style="font-size:20px">
          ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ú‡∏•‡∏™‡∏±‡∏°‡∏§‡∏ó‡∏ò‡∏¥‡πå: <b>${level}</b>
        </p>

        <button onclick="exitExam()" style="
          padding:10px 25px;
          margin:10px;
          border:none;
          border-radius:10px;
          background:#2c3e50;
          color:white;
          font-size:16px;
          cursor:pointer
        ">
          ‡∏õ‡∏¥‡∏î
        </button>
      </div>
    `;

    /* ‚úÖ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ú‡∏•‡∏™‡∏≠‡∏ö‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏π */
    if(stu){
      db.ref("reports").push({
        name: stu.name,
        class: stu.class,
        no: stu.no,
        mode: "‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö",
        score: examScore,
        level: level,
        time: new Date().toLocaleString()
      });

      saveScore("exam", examScore);
    }
  }
  </script>
  <script>
  function exitExam(){
    localStorage.removeItem("realExam");

    document.getElementById("realExam").classList.add("hidden");
    document.getElementById("login").classList.remove("hidden");
  }
</script>

  <div class="card hidden" id="game">
    <p>üë§ <span id="stuInfoGame"></span></p>

    <h3>üê≤ ‡∏î‡πà‡∏≤‡∏ô‡∏ó‡∏µ‡πà <span id="stage">1</span></h3>
    <p>‚≠ê ‡∏î‡∏≤‡∏ß: <span id="stars">3</span></p>

    <div style="font-size:50px">üêâ</div>

    <div id="gameGrid" class="grid"></div>

    <button onclick="checkGame()">‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö</button>
    <button onclick="backMenu()">üè† ‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å</button>

  </div>
  <script>
    let stage = 1;
    let stars = 3;

    const gameGrid = document.getElementById("gameGrid");

    function startGame() {
      showStudent();
      if (!checkStudent()) return;

      stage = 1;
      stars = 3;

      document.getElementById("stars").innerText = stars;
      document.getElementById("stage").innerText = stage;

      document.getElementById("menu").classList.add("hidden");
      document.getElementById("game").classList.remove("hidden");

      loadGameStage();
    }

    function loadGameStage() {
      randomizeSolution();
      gameGrid.innerHTML = "";

      for (let r = 0; r < 6; r++) {
        for (let c = 0; c < 6; c++) {
          const cell = document.createElement("div");
          cell.className = "cell";

          if (c === 2) cell.style.borderRight = "4px solid #3f5f93";
          if (r === 1 || r === 3) cell.style.borderBottom = "4px solid #3f5f93";

          if (Math.random() * 36 > (10 + stage * 2)) {
            cell.textContent = solution[r][c];
            cell.classList.add("fixed");
          } else {
            const input = document.createElement("input");
            input.dataset.r = r;
            input.dataset.c = c;
            input.maxLength = 1;
            input.oninput = () => input.value = input.value.replace(/[^1-6]/g, "");
            cell.appendChild(input);
          }
          gameGrid.appendChild(cell);
        }
      }
    }


    function checkGame() {
      let wrong = 0;

      document.querySelectorAll("#gameGrid input").forEach(inp => {
        const r = inp.dataset.r;
        const c = inp.dataset.c;
        if (parseInt(inp.value) !== solution[r][c]) wrong++;
      });

      if (wrong === 0) {
        stars += 3;
        stage++;
        alert("üéâ ‡∏ú‡πà‡∏≤‡∏ô‡∏î‡πà‡∏≤‡∏ô! +3 ‡∏î‡∏≤‡∏ß");
      } else if (wrong <= 2) {
        stars += 1;
        stage++;
        alert("üôÇ ‡πÄ‡∏Å‡∏∑‡∏≠‡∏ö‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå +1 ‡∏î‡∏≤‡∏ß");
      } else {
        stars--;
        alert("üí• ‡∏ú‡∏¥‡∏î‡πÄ‡∏¢‡∏≠‡∏∞ -1 ‡∏î‡∏≤‡∏ß");
      }


      document.getElementById("stars").innerText = stars;
      document.getElementById("stage").innerText = stage;

      if (stars <= 0 || stage > 5) {
        alert("‚ò†Ô∏è ‡πÄ‡∏Å‡∏°‡πÇ‡∏≠‡πÄ‡∏ß‡∏≠‡∏£‡πå");
        saveReport("‡πÄ‡∏Å‡∏°", stars);
        saveScore("game", stars);
        backMenu();
        return;
      }

    }

  </script>

  <div class="card hidden" id="exam">
    <p>üë§ <span id="stuInfoExam"></span></p>

    <h3>üìù ‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö ‡∏Ç‡πâ‡∏≠‡∏ó‡∏µ‡πà <span id="examNo">1</span> / 5</h3>
    <p>‚è± ‡πÄ‡∏ß‡∏•‡∏≤: <span id="time">300</span> ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ</p>

    <div id="examGrid" class="grid"></div>

    <button onclick="submitExam()">‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö</button>
    <button onclick="backMenu()">üè† ‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å</button>
  </div>
  <script>
    let examIndex = 0;
    let totalScore = 0;
    let timer;
    let timeLeft = 300;

    const examGrid = document.getElementById("examGrid");
    const timeText = document.getElementById("time");

    const examLevels = [
      { lock: 22 }, // ‡∏á‡πà‡∏≤‡∏¢
      { lock: 20 },
      { lock: 18 }, // ‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á
      { lock: 16 },
      { lock: 14 }  // ‡∏¢‡∏≤‡∏Å
    ];

    function startExam() {
      showStudent();
      if (!checkStudent()) return;

      examIndex = 0;
      totalScore = 0;
      document.getElementById("menu").classList.add("hidden");
      document.getElementById("exam").classList.remove("hidden");
      loadExam();
    }

    function loadExam() {
      clearInterval(timer);
      timeLeft = 300;
      timeText.innerText = timeLeft;

      document.getElementById("examNo").innerText = examIndex + 1;

      randomizeSolution();
      examGrid.innerHTML = "";

      const lock = examLevels[examIndex].lock;

      /* ===== ‡∏™‡∏∏‡πà‡∏°‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏•‡πá‡∏≠‡∏Å ===== */
      let positions = [];
      for (let i = 0; i < 36; i++) positions.push(i);
      positions.sort(() => Math.random() - 0.5);
      const locked = positions.slice(0, lock);

      for (let i = 0; i < 36; i++) {
        const r = Math.floor(i / 6);
        const c = i % 6;

        const cell = document.createElement("div");
        cell.className = "cell";

        /* ‡πÄ‡∏™‡πâ‡∏ô 3√ó2 */
        if (c === 2) cell.style.borderRight = "4px solid #3f5f93";
        if (r === 1 || r === 3) cell.style.borderBottom = "4px solid #3f5f93";

        if (locked.includes(i)) {
          cell.textContent = solution[r][c];
          cell.classList.add("fixed");
        } else {
          const input = document.createElement("input");
          input.dataset.r = r;
          input.dataset.c = c;
          input.maxLength = 1;
          input.oninput = () => {
            input.value = input.value.replace(/[^1-6]/g, "");
          };
          cell.appendChild(input);
        }

        examGrid.appendChild(cell);
      }

      startTimer();
    }

    function startTimer() {
      timer = setInterval(() => {
        timeLeft--;
        timeText.innerText = timeLeft;
        if (timeLeft <= 0) {
          clearInterval(timer);
          submitExam();
        }
      }, 1000);
    }

    function submitExam() {
      clearInterval(timer);

      let wrong = 0;
      let total = 0;

      document.querySelectorAll("#examGrid input").forEach(inp => {
        total++;
        const r = inp.dataset.r;
        const c = inp.dataset.c;
        if (parseInt(inp.value) !== solution[r][c]) wrong++;
      });

      let score = 5;
      if (wrong > 0) {
        score -= (5 / total) * wrong;
      }
      if (timeLeft <= 0) {
        score -= 1;
      }

      if (score < 0) score = 0;
      totalScore += score;

      examIndex++;
      if (examIndex < 5) {
        loadExam();
      } else {
        alert(`üéâ ‡∏™‡∏≠‡∏ö‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß\n‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏£‡∏ß‡∏°: ${totalScore.toFixed(2)} / 25`);
        saveReport("‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö", totalScore.toFixed(2));
        saveScore("exam", totalScore.toFixed(2));
        backMenu();
      }
    }

    function backMenu() {
      if (document.getElementById("practice").classList.contains("hidden") === false) {
        saveReport("‡πÅ‡∏ö‡∏ö‡∏ù‡∏∂‡∏Å", maxPracticeScore);
      }

      clearInterval(timer);

      document.getElementById("practice").classList.add("hidden");
      document.getElementById("game").classList.add("hidden");
      document.getElementById("exam").classList.add("hidden");
      document.getElementById("menu").classList.remove("hidden");
    }
  </script>

  <script>
    function logout() {
      // ‡∏•‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏•‡πá‡∏≠‡∏Å‡∏≠‡∏¥‡∏ô
      localStorage.removeItem("student");
      localStorage.removeItem("teacher");

      // ‡∏ã‡πà‡∏≠‡∏ô‡∏ó‡∏∏‡∏Å‡∏´‡∏ô‡πâ‡∏≤
      document.getElementById("menu").classList.add("hidden");
      document.getElementById("practice").classList.add("hidden");
      document.getElementById("game").classList.add("hidden");
      document.getElementById("exam").classList.add("hidden");
      document.getElementById("teacherPage").classList.add("hidden");

      // ‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤ Login
      document.getElementById("login").classList.remove("hidden");
    }
  </script>

  <script>
    window.onload = function () {
      const student = localStorage.getItem("student");
      const teacher = localStorage.getItem("teacher");

      // ‡∏ã‡πà‡∏≠‡∏ô‡∏ó‡∏∏‡∏Å‡∏´‡∏ô‡πâ‡∏≤‡∏Å‡πà‡∏≠‡∏ô
      document.getElementById("login").classList.add("hidden");
      document.getElementById("menu").classList.add("hidden");
      document.getElementById("practice").classList.add("hidden");
      document.getElementById("game").classList.add("hidden");
      document.getElementById("exam").classList.add("hidden");
      document.getElementById("teacherPage").classList.add("hidden");

      if (teacher) {
        document.getElementById("teacherPage").classList.remove("hidden");
        loadReports();
      }
      else if (student) {
        document.getElementById("menu").classList.remove("hidden");
        showStudent();
      }
      else {
        document.getElementById("login").classList.remove("hidden");
      }
    };


  </script>


</body>

</html>